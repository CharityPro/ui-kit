import styles from './ToggleNotification.module.scss';
import { useState } from 'react';

export type ToggleNotificationProps = {
	currentChannel: 'telegram' | 'email';
};

export function ToggleNotification({
	currentChannel,
}: ToggleNotificationProps) {
	const [isTelegram, setIsTelegram] = useState<boolean>(
		currentChannel === 'telegram'
	);

	const onClick = () => {
		setIsTelegram(!isTelegram);
	};

	return (
		<button
			type="button"
			className={`${styles.button} ${isTelegram ? styles.button_tg : styles.button_email}`}
			onClick={onClick}
			data-testid="Toggle-notification"
		>
			<p className={`${styles.text}`}>
				{isTelegram ? 'через бота' : 'на почту'}
			</p>
			<div className={styles.icon}>
				{!isTelegram ? (
					<svg
						width="17"
						height="18"
						viewBox="0 0 18 18"
						className={styles.icon_email}
						fill="#374146"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							fillRule="evenodd"
							clipRule="evenodd"
							d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18ZM3.55391 13.1692C3.78071 13.3897 4.05322 13.5 4.37143 13.5H13.6286C13.9464 13.5004 14.2187 13.3903 14.4455 13.1698C14.6723 12.9493 14.7857 12.6844 14.7857 12.375V5.625C14.7861 5.316 14.6729 5.05125 14.4461 4.83075C14.2193 4.61025 13.9468 4.5 13.6286 4.5H4.37143C4.0536 4.49963 3.78129 4.60969 3.55449 4.83019C3.32769 5.05069 3.21429 5.31563 3.21429 5.625V12.375C3.2139 12.684 3.32711 12.9487 3.55391 13.1692ZM9.15216 9.44269C9.09894 9.45694 9.04821 9.46406 9 9.46406C8.95217 9.46444 8.90164 9.4575 8.84841 9.44325C8.79519 9.429 8.74446 9.40781 8.69625 9.37969L4.60286 6.89063C4.52571 6.8535 4.46786 6.79969 4.42929 6.72919C4.39071 6.65869 4.37143 6.57656 4.37143 6.48281C4.37143 6.30506 4.45339 6.16688 4.61732 6.06825C4.78125 5.96963 4.95 5.97188 5.12357 6.075L9 8.4375L12.8764 6.075C13.05 5.97188 13.2188 5.96719 13.3827 6.06094C13.5466 6.15469 13.6286 6.29531 13.6286 6.48281C13.6286 6.56681 13.6093 6.64406 13.5707 6.71456C13.5321 6.78506 13.4743 6.84375 13.3971 6.89063L9.30375 9.37969C9.25592 9.40744 9.20539 9.42844 9.15216 9.44269Z"
						/>
					</svg>
				) : (
					<svg
						width="17"
						height="18"
						viewBox="0 0 18 18"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<path
							fillRule="evenodd"
							clipRule="evenodd"
							d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18ZM9.71667 6.05708C8.56515 6.51943 6.26374 7.47638 2.81243 8.92793C2.25199 9.14307 1.95841 9.35354 1.93169 9.55934C1.88652 9.90715 2.33771 10.0441 2.95212 10.2306C3.03569 10.256 3.12228 10.2823 3.21106 10.3101C3.81553 10.4998 4.62866 10.7217 5.05138 10.7305C5.43482 10.7385 5.86278 10.5859 6.33527 10.2727C9.55993 8.17143 11.2245 7.10935 11.329 7.08645C11.4028 7.0703 11.5049 7.04999 11.5741 7.10938C11.6434 7.16878 11.6366 7.28126 11.6292 7.31144C11.5845 7.49538 9.81347 9.08484 8.89693 9.9074C8.61119 10.1638 8.40851 10.3457 8.36707 10.3873C8.27426 10.4803 8.17967 10.5684 8.08876 10.653C7.52719 11.1756 7.10606 11.5675 8.11208 12.2074C8.59552 12.515 8.98238 12.7693 9.36832 13.023C9.78981 13.3001 10.2102 13.5764 10.7541 13.9206C10.8927 14.0083 11.0251 14.0994 11.154 14.1881C11.6445 14.5257 12.0852 14.829 12.6296 14.7806C12.946 14.7525 13.2727 14.4654 13.4387 13.6089C13.8309 11.5849 14.6018 7.19949 14.78 5.39236C14.7956 5.23403 14.776 5.0314 14.7602 4.94245C14.7444 4.8535 14.7115 4.72677 14.5917 4.63295C14.4499 4.52185 14.2309 4.49842 14.1329 4.50008C13.6877 4.50765 13.0045 4.73697 9.71667 6.05708Z"
							fill="#54A9EA"
						/>
					</svg>
				)}
			</div>
		</button>
	);
}
